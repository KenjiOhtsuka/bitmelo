{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./demo/src/style.css?0aab","webpack:///./demo/src/style.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/Input/Keys.js","webpack:///./src/Screen/Screen.js","webpack:///./src/Input/Input.js","webpack:///./src/TileData/TileData.js","webpack:///./src/Engine/Engine.js","webpack:///./demo/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","content","options","hmr","transform","insertInto","undefined","locals","push","useSourceMap","list","toString","this","map","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","fn","memo","stylesInDom","isOldIE","window","document","all","atob","apply","arguments","getElement","target","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","nc","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","PAUSE_BREAK","CAPSLOCK","ESCAPE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","INSERT","DELETE","ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","A_KEY","B_KEY","C_KEY","D_KEY","E_KEY","F_KEY","G_KEY","H_KEY","I_KEY","J_KEY","K_KEY","L_KEY","M_KEY","N_KEY","O_KEY","P_KEY","Q_KEY","R_KEY","S_KEY","T_KEY","U_KEY","V_KEY","W_KEY","X_KEY","Y_KEY","Z_KEY","LEFT_WINDOW","RIGHT_WINDOW","SELECT","NUM_ZERO","NUM_ONE","NUM_TWO","NUM_THREE","NUM_FOUR","NUM_FIVE","NUM_SIX","NUM_SEVEN","NUM_EIGHT","NUM_NINE","MULTIPLY","ADD","SUBTRACT","DECIMAL_POINT","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NUM_LOCK","SCROLL_LOCK","SEMI_COLON","EQUAL_SIGN","COMMA","DASH","PERIOD","FORWARD_SLASH","GRAVE_ACCENT","OPEN_BRACKET","BACK_SLASH","CLOSE_BRACKET","SINGLE_QUOTE","codesToKeyCodes","Backspace","Tab","Enter","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","CapsLock","Escape","Space","PageUp","PageDown","End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Insert","Delete","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Select","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","NumpadDivide","NumLock","ScrollLock","Semicolon","Equal","NumpadEqual","Comma","NumpadComma","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","Minus","NumpadEnter","SCALE_CONSTANT","SCALE_FIT_WINDOW","Screen_Screen","[object Object]","conainerId","container","width","height","scale","maxScale","minScale","scaleMode","horizontalScaleCushion","verticalScaleCushion","rescaleOnWindowResize","transparentPaletteIndex","hideCursor","tileData","onScaleChange","canvas","_context","_screenData","_palette","_generatedPalette","_isLittleEndian","getElementById","_setScale","onresize","_setCanvasStyle","getContext","alpha","imageSmoothingEnabled","Uint8ClampedArray","buffer","ArrayBuffer","test8","Uint32Array","_buildPalette","maxWidth","innerWidth","maxHeight","innerHeight","maxHorizScale","Math","floor","maxVerticalScale","containerStyle","canvasStyle","palette","color","currentColor","x","y","paletteId","fill","x1","y1","x2","y2","abs","_drawLineLow","_drawLineHigh","firstX","secondX","currentX","setPixelUnsafe","firstY","secondY","currentY","setPixel","dx","dy","yIncrement","decision","xIncrement","drawLine","centerX","centerY","radius","drawCircleBorder","_drawCircleFilledOctants","_drawCircleBorderOctants","gid","tileSize","basePosition","tileY","tileX","data","imageData","getImageData","data8","data32","screenY","set","putImageData","GAME_LEFT","GAME_RIGHT","GAME_UP","GAME_DOWN","GAME_ACTION_ONE","GAME_ACTION_TWO","GAME_ACTION_THREE","GAME_ACTION_FOUR","GAME_PAUSE","GAME_LEFT_TRIGGER","GAME_RIGHT_TRIGGER","MENU_LEFT","MENU_RIGHT","MENU_UP","MENU_DOWN","MENU_CONFIRM","MENU_BACK","src_Input_Input","canvasScale","screenWidth","screenHeight","mouse","isOffScreen","position","left","pressed","down","up","right","_keysRaw","_currentKeys","_lastKeys","_buttonsToKeys","_currentButtons","_lastButtons","_currentMouseLeft","_lastMouseLeft","_forceMouseLeftDown","_currentMouseRight","_lastMouseRight","_forceMouseRightDown","addEventListener","_keyDown","_keyUp","oncontextmenu","preventDefault","_mouseEnter","_mouseMove","_mouseDown","_mouseUp","_mouseLeave","code","keyCode","canvasRect","getBoundingClientRect","clientX","clientY","top","button","_updateButtons","current","last","buttonCode","getKeyPressed","getKeyDown","getKeyUp","_updateButton","TileData_TileData","tilesets","numberOfTiles","currentTileset","currentGID","format","parseInt","runPosition","dataPosition","runLength","tileset","src_Engine_Engine","containerId","onInit","onUpdate","screen","input","_update","init","requestAnimationFrame","pollInput","drawScreen","engine","count","increment","addTileset","test_tileset","clear","drawTile","begin"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\\r\\n#minnow-container {\\r\\n  margin: 0 auto;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\n#minnow-container canvas {\\r\\n  padding: 0;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n  display: block;\\r\\n}\\r\\n\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nexport const BACKSPACE = 8;\nexport const TAB = 9;\nexport const ENTER = 13;\nexport const SHIFT = 16;\nexport const CTRL = 17;\nexport const ALT = 18;\nexport const PAUSE_BREAK = 19;\nexport const CAPSLOCK = 20;\nexport const ESCAPE = 27;\nexport const SPACE = 32;\nexport const PAGE_UP = 33;\nexport const PAGE_DOWN = 34;\nexport const END = 35;\nexport const HOME = 36;\nexport const LEFT_ARROW = 37;\nexport const UP_ARROW = 38;\nexport const RIGHT_ARROW = 39;\nexport const DOWN_ARROW = 40;\nexport const INSERT = 45;\nexport const DELETE = 46;\nexport const ZERO = 48;\nexport const ONE = 49;\nexport const TWO = 50;\nexport const THREE = 51;\nexport const FOUR = 52;\nexport const FIVE = 53;\nexport const SIX = 54;\nexport const SEVEN = 55;\nexport const EIGHT = 56;\nexport const NINE = 57;\nexport const A_KEY = 65;\nexport const B_KEY = 66;\nexport const C_KEY = 67;\nexport const D_KEY = 68;\nexport const E_KEY = 69;\nexport const F_KEY = 70;\nexport const G_KEY = 71;\nexport const H_KEY = 72;\nexport const I_KEY = 73;\nexport const J_KEY = 74;\nexport const K_KEY = 75;\nexport const L_KEY = 76;\nexport const M_KEY = 77;\nexport const N_KEY = 78;\nexport const O_KEY = 79;\nexport const P_KEY = 80;\nexport const Q_KEY = 81;\nexport const R_KEY = 82;\nexport const S_KEY = 83;\nexport const T_KEY = 84;\nexport const U_KEY = 85;\nexport const V_KEY = 86;\nexport const W_KEY = 87;\nexport const X_KEY = 88;\nexport const Y_KEY = 89;\nexport const Z_KEY = 90;\nexport const LEFT_WINDOW = 91;\nexport const RIGHT_WINDOW = 92;\nexport const SELECT = 93;\nexport const NUM_ZERO = 96;\nexport const NUM_ONE = 97;\nexport const NUM_TWO = 98;\nexport const NUM_THREE = 99;\nexport const NUM_FOUR = 100;\nexport const NUM_FIVE = 101;\nexport const NUM_SIX = 102;\nexport const NUM_SEVEN = 103;\nexport const NUM_EIGHT = 104;\nexport const NUM_NINE = 105;\nexport const MULTIPLY = 106;\nexport const ADD = 107;\nexport const SUBTRACT = 109;\nexport const DECIMAL_POINT = 110;\nexport const DIVIDE = 111;\nexport const F1 = 112;\nexport const F2 = 113;\nexport const F3 = 114;\nexport const F4 = 115;\nexport const F5 = 116;\nexport const F6 = 117;\nexport const F7 = 118;\nexport const F8 = 119;\nexport const F9 = 120;\nexport const F10 = 121;\nexport const F11 = 122;\nexport const F12 = 123;\nexport const NUM_LOCK = 144;\nexport const SCROLL_LOCK = 145;\nexport const SEMI_COLON = 186;\nexport const EQUAL_SIGN = 187;\nexport const COMMA = 188;\nexport const DASH = 189;\nexport const PERIOD = 190;\nexport const FORWARD_SLASH = 191;\nexport const GRAVE_ACCENT = 192;\nexport const OPEN_BRACKET = 219;\nexport const BACK_SLASH = 220;\nexport const CLOSE_BRACKET = 221;\nexport const SINGLE_QUOTE = 222;\n\nexport const codesToKeyCodes = {\n  Backspace: BACKSPACE,\n  Tab: TAB,\n  Enter: ENTER,\n  ShiftLeft: SHIFT,\n  ShiftRight: SHIFT,\n  ControlLeft: CTRL,\n  ControlRight: CTRL,\n  AltLeft: ALT,\n  AltRight: ALT,\n  CapsLock: CAPSLOCK,\n  Escape: ESCAPE,\n  Space: SPACE,\n  PageUp: PAGE_UP,\n  PageDown: PAGE_DOWN,\n  End: END,\n  Home: HOME,\n  ArrowLeft: LEFT_ARROW,\n  ArrowUp: UP_ARROW,\n  ArrowRight: RIGHT_ARROW,\n  ArrowDown: DOWN_ARROW,\n  Insert: INSERT,\n  Delete: DELETE,\n  Digit0: ZERO,\n  Digit1: ONE,\n  Digit2: TWO,\n  Digit3: THREE,\n  Digit4: FOUR,\n  Digit5: FIVE,\n  Digit6: SIX,\n  Digit7: SEVEN,\n  Digit8: EIGHT,\n  Digit9: NINE,\n  KeyA: A_KEY,\n  KeyB: B_KEY,\n  KeyC: C_KEY,\n  KeyD: D_KEY,\n  KeyE: E_KEY,\n  KeyF: F_KEY,\n  KeyG: G_KEY,\n  KeyH: H_KEY,\n  KeyI: I_KEY,\n  KeyJ: J_KEY,\n  KeyK: K_KEY,\n  KeyL: L_KEY,\n  KeyM: M_KEY,\n  KeyN: N_KEY,\n  KeyO: O_KEY,\n  KeyP: P_KEY,\n  KeyQ: Q_KEY,\n  KeyR: R_KEY,\n  KeyS: S_KEY,\n  KeyT: T_KEY,\n  KeyU: U_KEY,\n  KeyV: V_KEY,\n  KeyW: W_KEY,\n  KeyX: X_KEY,\n  KeyY: Y_KEY,\n  KeyZ: Z_KEY,\n  Select: SELECT,\n  Numpad0: NUM_ZERO,\n  Numpad1: NUM_ONE,\n  Numpad2: NUM_TWO,\n  Numpad3: NUM_THREE,\n  Numpad4: NUM_FOUR,\n  Numpad5: NUM_FIVE,\n  Numpad6: NUM_SIX,\n  Numpad7: NUM_SEVEN,\n  Numpad8: NUM_EIGHT,\n  Numpad9: NUM_NINE,\n  NumpadMultiply: MULTIPLY,\n  NumpadAdd: ADD,\n  NumpadSubtract: SUBTRACT,\n  NumpadDecimal: DECIMAL_POINT,\n  NumpadDivide: DIVIDE,\n  F1,\n  F2,\n  F3,\n  F4,\n  F5,\n  F6,\n  F7,\n  F8,\n  F9,\n  F10,\n  F11,\n  F12,\n  NumLock: NUM_LOCK,\n  ScrollLock: SCROLL_LOCK,\n  Semicolon: SEMI_COLON,\n  Equal: EQUAL_SIGN,\n  NumpadEqual: EQUAL_SIGN,\n  Comma: COMMA,\n  NumpadComma: COMMA,\n  Period: PERIOD,\n  Slash: FORWARD_SLASH,\n  Backquote: GRAVE_ACCENT,\n  BracketLeft: OPEN_BRACKET,\n  Backslash: BACK_SLASH,\n  BracketRight: CLOSE_BRACKET,\n  Quote: SINGLE_QUOTE,\n  Minus: DASH,\n  NumpadEnter: ENTER,\n};\n","\nexport const SCALE_CONSTANT = 1;\nexport const SCALE_FIT_WINDOW = 2;\n\n/**\n * Represents a game screen for low resolution games.\n * Has simple drawing functions using an indexed palette of a maximum of 256 colors\n * The origin (0, 0) position of the screen is on the bottom left\n */\nclass Screen {\n  constructor() {\n    this.conainerId = 'minnow-container';\n    this.container = null;\n    this.width = 320;\n    this.height = 180;\n    this.scale = 3;\n    this.maxScale = -1;\n    this.minScale = 1;\n    this.scaleMode = SCALE_CONSTANT;\n    this.horizontalScaleCushion = 0;\n    this.verticalScaleCushion = 0;\n    this.rescaleOnWindowResize = true;\n    this.transparentPaletteIndex = 0;\n    this.hideCursor = false;\n    this.tileData = null;\n\n    this.onScaleChange = null;\n\n    this.canvas = null;\n    this._context = null;\n    this._screenData = null;\n    this._palette = null;\n    this._generatedPalette = null;\n\n    this._isLittleEndian = true;\n  }\n\n  /**\n   * Do initial setup such as creating the canvas and building the palette\n   */\n  init() {\n    this.container = document.getElementById( this.conainerId );\n\n    this.canvas = document.createElement( 'canvas' );\n    this.canvas.setAttribute( 'id', 'game-device' );\n    this.canvas.setAttribute( 'width', this.width );\n    this.canvas.setAttribute( 'height', this.height );\n\n    this._setScale();\n\n    if ( this.rescaleOnWindowResize && this.scaleMode !== SCALE_CONSTANT ) {\n      window.onresize = () => {\n        this._setScale();\n        this._setCanvasStyle();\n      };\n    }\n\n    this._setCanvasStyle();\n\n    this.container.appendChild( this.canvas );\n\n    this._context = this.canvas.getContext( '2d', { alpha: false } );\n    this._context.imageSmoothingEnabled = false;\n    this._screenData = new Uint8ClampedArray( this.width * this.height );\n\n    // check if we are little endian\n    const buffer = new ArrayBuffer( 4 );\n    const test8 = new Uint8ClampedArray( buffer );\n    const test32 = new Uint32Array( buffer );\n    test32[0] = 0x0a0b0c0d;\n\n    if ( test8[0] === 0x0a\n      && test8[1] === 0x0b\n      && test8[2] === 0x0c\n      && test8[3] === 0x0d\n    ) {\n      this._isLittleEndian = false;\n    }\n\n    if ( !this._palette ) {\n      // set the default palette\n      this._palette = [\n        [0x00, 0x00, 0x00],\n        [0x00, 0x00, 0x00],\n        [0xff, 0xff, 0xff],\n        [0xff, 0x00, 0x00],\n        [0x00, 0xff, 0x00],\n        [0x00, 0x00, 0xff],\n      ];\n    }\n\n    this._buildPalette();\n  }\n\n  _setScale() {\n    if ( this.scaleMode === SCALE_FIT_WINDOW ) {\n      const maxWidth = window.innerWidth - this.horizontalScaleCushion;\n      const maxHeight = window.innerHeight - this.verticalScaleCushion;\n\n      const maxHorizScale = Math.floor( maxWidth / this.width );\n      const maxVerticalScale = Math.floor( maxHeight / this.height );\n\n      this.scale = maxHorizScale < maxVerticalScale ? maxHorizScale : maxVerticalScale;\n      if ( this.scale < this.minScale ) {\n        this.scale = this.minScale;\n      }\n      if ( this.maxScale > 0 && this.scale > this.maxScale ) {\n        this.scale = this.maxScale;\n      }\n    }\n\n    if ( this.onScaleChange ) {\n      this.onScaleChange( this.scale );\n    }\n  }\n\n  _setCanvasStyle() {\n    let containerStyle = '';\n    containerStyle += `width: ${ this.width * this.scale }px;`;\n    containerStyle += `height: ${ this.height * this.scale }px;`;\n\n    this.container.setAttribute( 'style', containerStyle );\n\n    let canvasStyle = '';\n    canvasStyle += 'transform-origin: 50% 0%;';\n    canvasStyle += `transform: scale(${ this.scale });`;\n    canvasStyle += 'image-rendering: -webkit-optimize-contrast;';\n    canvasStyle += 'image-rendering: -moz-crisp-edges;';\n    canvasStyle += 'image-rendering: crisp-edges;';\n    canvasStyle += 'image-rendering: pixelated;';\n\n\n    if ( this.hideCursor ) {\n      canvasStyle += 'cursor: none';\n    }\n\n    this.canvas.setAttribute( 'style', canvasStyle );\n  }\n\n  /**\n   * Set the palette that will used by the Screen.\n   * All colors are drawn fully opaque exept for the palette index specified at {@link transparentPaletteIndex}\n   *\n   * @example\n   * const palette = [\n   *  [0, 0, 0], // black, by default the 0 index is transparent\n   *  [0, 0, 0], // black\n   *  [255, 255, 255], // white\n   *  [255, 0, 0], // red\n   *  [0, 255, 0], // green\n   *  [0, 0, 255] // blue\n   * ];\n   *\n   * screen.setPalette( palette );\n   *\n   * @param {Array.<Array.<number>} palette - The array of colors to be used by the screen.\n   * Each index should be a color described by an array of 3 integers in rgb order.\n   * Each integer has a min value of 0 and a max value of 255.\n   */\n  setPalette( palette ) {\n    this._palette = palette;\n    this._buildPalette();\n  }\n\n  /**\n   * Change a single palette color\n   *\n   * @param {number[]} color - The color we want to add\n   * @param {number} index - this palette index we want to set\n   */\n  setPaletteColorAtIndex( color, index ) {\n    this._palette[index] = color;\n    this._buildPalette();\n  }\n\n  /**\n   * Build the palette by converting _palette to the _generatedPalette we will be using internally\n   */\n  _buildPalette() {\n    this._generatedPalette = new Uint32Array( this._palette.length );\n    let currentColor = null;\n    if ( this._isLittleEndian ) {\n      for ( let i = 0; i < this._palette.length; i += 1 ) {\n        currentColor = this._palette[i];\n        this._generatedPalette[i] = (\n          ( 255 << 24 ) // a\n          | ( currentColor[2] << 16 ) // b\n          | ( currentColor[1] << 8 ) // g\n          | currentColor[0] // r\n        );\n      }\n    }\n    else {\n      for ( let i = 0; i < this._palette.length; i += 1 ) {\n        currentColor = this._palette[i];\n        this._generatedPalette[i] = (\n          ( currentColor[0] << 24 ) // r\n          | ( currentColor[1] << 16 ) // g\n          | ( currentColor[2] << 8 ) // b\n          | 255 // a\n        );\n      }\n    }\n  }\n\n  /**\n   * Set a pixel on the screen.\n   * The origin (0, 0) of the screen is on the bottom left\n   * @param {number} x - x position\n   * @param {number} y - y position\n   * @param {number} paletteId - palette color index\n   */\n  setPixel( x, y, paletteId ) {\n    if ( paletteId === this.transparentPaletteIndex ) {\n      return;\n    }\n    if ( x < 0 || x >= this.width || y < 0 || y >= this.height ) {\n      return;\n    }\n    this._screenData[y * this.width + x] = paletteId;\n  }\n\n  /**\n   * Set a pixel on the screen, without doing any bounds checking\n   * @param {number} x - x position\n   * @param {number} y - y position\n   * @param {number} paletteId - palette color index\n   */\n  setPixelUnsafe( x, y, paletteId ) {\n    if ( paletteId === this.transparentPaletteIndex ) {\n      return;\n    }\n    this._screenData[y * this.width + x] = paletteId;\n  }\n\n  /**\n   * Get the pallete index at a given position on the screen\n   * @param {*} x - x position\n   * @param {*} y - y position\n   */\n  getPixel( x, y ) {\n    return this._screenData[y * this.width + x];\n  }\n\n  /**\n   * Fill the screen with the given palette index\n   * @param {*} paletteId - the palette index / defaults to 0 if unspecified\n   */\n  clear( paletteId ) {\n    if ( paletteId ) {\n      this._screenData.fill( paletteId );\n    }\n    else {\n      this._screenData.fill( 0 );\n    }\n  }\n\n  /**\n   * Draw a line between 2 positions\n   * @param {*} x1 - first x position\n   * @param {*} y1 - first y position\n   * @param {*} x2 - second x position\n   * @param {*} y2 - second y position\n   * @param {*} paletteId - palette index to be drawn\n   */\n  drawLine( x1, y1, x2, y2, paletteId ) {\n    if ( x1 === x2 && y1 === y2 ) {\n      // same coordinate, draw a pixel\n      this.setPixel( x1, x2, paletteId );\n      return;\n    }\n\n    if ( x1 === x2 ) {\n      // vertical line\n      if ( x1 < 0 || x1 >= this.width ) {\n        return;\n      }\n\n      let firstY = y1 < y2 ? y1 : y2;\n      let secondY = y1 < y2 ? y2 : y1;\n      if ( secondY < 0 ) {\n        return;\n      }\n      if ( firstY >= this.height ) {\n        return;\n      }\n\n      if ( firstY < 0 ) {\n        firstY = 0;\n      }\n      if ( secondY >= this.height ) {\n        secondY = this.height - 1;\n      }\n      for ( let currentY = firstY; currentY <= secondY; currentY += 1 ) {\n        this.setPixelUnsafe( x1, currentY, paletteId );\n      }\n\n      return;\n    }\n\n    if ( y1 === y2 ) {\n      // horizontal line\n      if ( y1 < 0 || y1 >= this.height ) {\n        return;\n      }\n\n      let firstX = x1 < x2 ? x1 : x2;\n      let secondX = x1 < x2 ? x2 : x1;\n      if ( secondX < 0 ) {\n        return;\n      }\n      if ( firstX >= this.width ) {\n        return;\n      }\n\n      if ( firstX < 0 ) {\n        firstX = 0;\n      }\n      if ( secondX >= this.width ) {\n        secondX = this.width - 1;\n      }\n      for ( let currentX = firstX; currentX <= secondX; currentX += 1 ) {\n        this.setPixelUnsafe( currentX, y1, paletteId );\n      }\n\n      return;\n    }\n\n    if ( Math.abs( y2 - y1 ) < Math.abs( x2 - x1 ) ) {\n      // slope is less than 1\n      if ( x1 > x2 ) {\n        this._drawLineLow( x2, y2, x1, y1, paletteId );\n      }\n      else {\n        this._drawLineLow( x1, y1, x2, y2, paletteId );\n      }\n    }\n    else {\n      // slope is greater than 1\n      if ( y1 > y2 ) {\n        this._drawLineHigh( x2, y2, x1, y1, paletteId );\n      }\n      else {\n        this._drawLineHigh( x1, y1, x2, y2, paletteId );\n      }\n    }\n  }\n\n  /**\n   * Draw a line with a slope less than or equal to 1\n   */\n  _drawLineLow( x1, y1, x2, y2, id ) {\n    const dx = x2 - x1;\n    let dy = y2 - y1;\n    let yIncrement = 1;\n    if ( dy < 0 ) {\n      yIncrement = -1;\n      dy = -dy;\n    }\n\n    let decision = 2 * dy - dx;\n    let y = y1;\n\n    for ( let x = x1; x <= x2; x += 1 ) {\n      this.setPixel( x, y, id );\n\n      if ( decision > 0 ) {\n        y += yIncrement;\n        decision = decision - ( 2 * dx );\n      }\n\n      decision = decision + ( 2 * dy );\n    }\n  }\n\n  /**\n   * Draw a line with a slope greater than 1\n   */\n  _drawLineHigh( x1, y1, x2, y2, id ) {\n    let dx = x2 - x1;\n    const dy = y2 - y1;\n    let xIncrement = 1;\n    if ( dx < 0 ) {\n      xIncrement = -1;\n      dx = -dx;\n    }\n\n    let decision = 2 * dx - dy;\n    let x = x1;\n\n    for ( let y = y1; y <= y2; y += 1 ) {\n      this.setPixel( x, y, id );\n\n      if ( decision > 0 ) {\n        x += xIncrement;\n        decision = decision - ( 2 * dy );\n      }\n\n      decision = decision + ( 2 * dx );\n    }\n  }\n\n  /**\n   * Draw a filled rectangle\n   *\n   * @param {*} x - bottom left x position\n   * @param {*} y - bottom left y position\n   * @param {*} width - width of the rectangle\n   * @param {*} height - height of the rectangle\n   * @param {*} paletteId - the palette color to draw\n   */\n  drawRect( x, y, width, height, paletteId ) {\n    if ( x >= this.width ) {\n      return;\n    }\n\n    if ( y >= this.height ) {\n      return;\n    }\n\n    let x1 = x;\n    let y1 = y;\n    let x2 = x + width - 1;\n    let y2 = y + height - 1;\n\n    if ( x2 < 0 ) {\n      return;\n    }\n    if ( y2 < 0 ) {\n      return;\n    }\n\n    if ( x1 < 0 ) {\n      x1 = 0;\n    }\n    if ( y1 < 0 ) {\n      y1 = 0;\n    }\n\n    if ( x2 >= this.width ) {\n      x2 = this.width - 1;\n    }\n\n    if ( y2 >= this.height ) {\n      y2 = this.height - 1;\n    }\n\n    for ( let currentY = y1; currentY <= y2; currentY += 1 ) {\n      for ( let currentX = x1; currentX <= x2; currentX += 1 ) {\n        this.setPixelUnsafe( currentX, currentY, paletteId );\n      }\n    }\n  }\n\n  /**\n   * Draw a rectangle border\n   *\n   * @param {*} x - bottom left x position\n   * @param {*} y - bottom left y position\n   * @param {*} width - width of the rectangle\n   * @param {*} height - height of the rectangle\n   * @param {*} paletteId - the palette color to draw\n   */\n  drawRectBorder( x, y, width, height, paletteId ) {\n    if ( x >= this.width ) {\n      return;\n    }\n\n    if ( y >= this.height ) {\n      return;\n    }\n\n    if ( width === 1 && height === 1 ) {\n      this.setPixel( x, y, paletteId );\n      return;\n    }\n\n    const x2 = x + width - 1;\n    const y2 = y + height - 1;\n\n    if ( x2 < 0 ) {\n      return;\n    }\n    if ( y2 < 0 ) {\n      return;\n    }\n\n    if ( width === 1 ) {\n      this.drawLine( x, y, x, y2, paletteId );\n      return;\n    }\n\n    if ( height === 1 ) {\n      this.drawLine( x, y, x2, y, paletteId );\n      return;\n    }\n\n    this.drawLine( x, y, x, y2, paletteId ); // left\n    this.drawLine( x, y2, x2, y2, paletteId ); // top\n    this.drawLine( x2, y2, x2, y, paletteId ); // right\n    this.drawLine( x2, y, x, y, paletteId ); // bottom\n  }\n\n  /**\n   * Draw a filled circle\n   *\n   * @param {number} centerX - the x coordinate of the center of the circle\n   * @param {numbe} centerY -  the y coordinate of the center of the circle\n   * @param {number} radius - the radius of the circle\n   * @param {number} paletteId - the palette color to draw\n   */\n  drawCircle( centerX, centerY, radius, paletteId ) {\n    if ( radius <= 0 ) {\n      return;\n    }\n\n    if ( radius === 1 ) {\n      this.drawCircleBorder( centerX, centerY, radius, paletteId );\n      this.setPixel( centerX, centerY, paletteId );\n      return;\n    }\n\n    let x = 0;\n    let y = radius;\n    this.drawLine( centerX - radius, centerY, centerX + radius, centerY, paletteId );\n\n    let decision = 3 - 2 * radius;\n\n    while ( y >= x ) {\n      x += 1;\n\n      if ( decision > 0 ) {\n        y -= 1;\n        decision = decision + 4 * ( x - y ) + 10;\n      }\n      else {\n        decision = decision + 4 * x + 6;\n      }\n\n      this._drawCircleFilledOctants( centerX, centerY, x, y, paletteId );\n    }\n  }\n\n  /**\n   * Draw a circle border\n   *\n   * @param {number} centerX - the x coordinate of the center of the circle\n   * @param {numbe} centerY -  the y coordinate of the center of the circle\n   * @param {number} radius - the radius of the circle\n   * @param {number} paletteId - the palette color to draw\n   */\n  drawCircleBorder( centerX, centerY, radius, paletteId ) {\n    if ( radius <= 0 ) {\n      return;\n    }\n\n    let x = 0;\n    let y = radius;\n    this._drawCircleBorderOctants( centerX, centerY, x, y, paletteId );\n\n    let decision = 3 - 2 * radius;\n\n    while ( y >= x ) {\n      x += 1;\n\n      if ( decision > 0 ) {\n        y -= 1;\n        decision = decision + 4 * ( x - y ) + 10;\n      }\n      else {\n        decision = decision + 4 * x + 6;\n      }\n\n      this._drawCircleBorderOctants( centerX, centerY, x, y, paletteId );\n    }\n  }\n\n  /**\n   * helper method for drawing filled circles\n   */\n  _drawCircleFilledOctants( centerX, centerY, x, y, paletteId ) {\n    this.drawLine( centerX - x, centerY + y, centerX + x, centerY + y, paletteId );\n    this.drawLine( centerX - x, centerY - y, centerX + x, centerY - y, paletteId );\n    this.drawLine( centerX - y, centerY + x, centerX + y, centerY + x, paletteId );\n    this.drawLine( centerX - y, centerY - x, centerX + y, centerY - x, paletteId );\n  }\n\n  /**\n   * helper method for drawing circle borders\n   */\n  _drawCircleBorderOctants( centerX, centerY, x, y, paletteId ) {\n    this.setPixel( centerX + x, centerY + y, paletteId );\n    this.setPixel( centerX - x, centerY + y, paletteId );\n    this.setPixel( centerX + x, centerY - y, paletteId );\n    this.setPixel( centerX - x, centerY - y, paletteId );\n    this.setPixel( centerX + y, centerY + x, paletteId );\n    this.setPixel( centerX - y, centerY + x, paletteId );\n    this.setPixel( centerX + y, centerY - x, paletteId );\n    this.setPixel( centerX - y, centerY - x, paletteId );\n  }\n\n  drawTile( gid, x, y ) {\n    const { tileSize } = this.tileData;\n    const basePosition = ( gid - 1 ) * tileSize * tileSize;\n    for ( let tileY = 0; tileY < tileSize; tileY += 1 ) {\n      for ( let tileX = 0; tileX < tileSize; tileX += 1 ) {\n        const paletteId = this.tileData.data[basePosition + tileY * tileSize + tileX];\n        this.setPixel( x + tileX, y + tileY, paletteId );\n      }\n    }\n  }\n\n  /**\n   * draw the data from {@link _screenData} to the canvas\n   */\n  drawScreen() {\n    const imageData = this._context.getImageData( 0, 0, this.width, this.height );\n    const buffer = new ArrayBuffer( imageData.data.length );\n    const data8 = new Uint8ClampedArray( buffer );\n    const data32 = new Uint32Array( buffer );\n\n    let index = 0;\n    let screenY = 0;\n    for ( let y = 0; y < this.height; y += 1 ) {\n      for ( let x = 0; x < this.width; x += 1 ) {\n        screenY = this.height - y - 1; // origin from top left to bottom left\n        index = this._screenData[screenY * this.width + x];\n        data32[y * this.width + x] = this._generatedPalette[index];\n      }\n    }\n    imageData.data.set( data8 );\n    this._context.putImageData( imageData, 0, 0 );\n  }\n}\n\nexport default Screen;\n","import * as Keys from './Keys';\n\nexport const GAME_LEFT = 0;\nexport const GAME_RIGHT = 1;\nexport const GAME_UP = 2;\nexport const GAME_DOWN = 3;\nexport const GAME_ACTION_ONE = 4;\nexport const GAME_ACTION_TWO = 5;\nexport const GAME_ACTION_THREE = 6;\nexport const GAME_ACTION_FOUR = 7;\nexport const GAME_PAUSE = 8;\nexport const GAME_LEFT_TRIGGER = 9;\nexport const GAME_RIGHT_TRIGGER = 10;\n\nexport const MENU_LEFT = 11;\nexport const MENU_RIGHT = 12;\nexport const MENU_UP = 13;\nexport const MENU_DOWN = 14;\nexport const MENU_CONFIRM = 15;\nexport const MENU_BACK = 16;\n\nclass Input {\n  constructor() {\n    this.canvas = null;\n    this.canvasScale = 1;\n    this.screenWidth = 1;\n    this.screenHeight = 1;\n\n    this.mouse = {};\n    this.mouse.isOffScreen = true;\n    this.mouse.position = {\n      x: -1,\n      y: -1,\n    };\n\n    this.mouse.left = {\n      pressed: false,\n      down: false,\n      up: false,\n    };\n\n    this.mouse.right = {\n      pressed: false,\n      down: false,\n      up: false,\n    };\n\n    this._keysRaw = new Uint8ClampedArray( 256 );\n    this._currentKeys = new Uint8ClampedArray( 256 );\n    this._lastKeys = new Uint8ClampedArray( 256 );\n\n    this._buttonsToKeys = new Uint8ClampedArray( 32 );\n\n    // default button mappings\n    this._buttonsToKeys[GAME_LEFT] = Keys.LEFT_ARROW;\n    this._buttonsToKeys[GAME_RIGHT] = Keys.RIGHT_ARROW;\n    this._buttonsToKeys[GAME_UP] = Keys.UP_ARROW;\n    this._buttonsToKeys[GAME_DOWN] = Keys.DOWN_ARROW;\n\n    this._buttonsToKeys[GAME_ACTION_ONE] = Keys.Z_KEY;\n    this._buttonsToKeys[GAME_ACTION_TWO] = Keys.X_KEY;\n    this._buttonsToKeys[GAME_ACTION_THREE] = Keys.A_KEY;\n    this._buttonsToKeys[GAME_ACTION_FOUR] = Keys.S_KEY;\n    this._buttonsToKeys[GAME_LEFT_TRIGGER] = Keys.Q_KEY;\n    this._buttonsToKeys[GAME_RIGHT_TRIGGER] = Keys.W_KEY;\n\n    this._buttonsToKeys[GAME_PAUSE] = Keys.P_KEY;\n\n    this._buttonsToKeys[MENU_LEFT] = Keys.LEFT_ARROW;\n    this._buttonsToKeys[MENU_RIGHT] = Keys.RIGHT_ARROW;\n    this._buttonsToKeys[MENU_UP] = Keys.UP_ARROW;\n    this._buttonsToKeys[MENU_DOWN] = Keys.DOWN_ARROW;\n\n    this._buttonsToKeys[MENU_CONFIRM] = Keys.X_KEY;\n    this._buttonsToKeys[MENU_BACK] = Keys.Z_KEY;\n\n    this._currentButtons = new Uint8ClampedArray( 32 );\n    this._lastButtons = new Uint8ClampedArray( 32 );\n\n    this._currentMouseLeft = false;\n    this._lastMouseLeft = false;\n    this._forceMouseLeftDown = false;\n\n    this._currentMouseRight = false;\n    this._lastMouseRight = false;\n    this._forceMouseRightDown = false;\n  }\n\n  init() {\n    window.addEventListener( 'keydown', this._keyDown.bind( this ), false );\n    window.addEventListener( 'keyup', this._keyUp.bind( this ), false );\n\n    if ( this.canvas ) {\n      this.canvas.oncontextmenu = ( e ) => {\n        e.preventDefault();\n      };\n\n      this.canvas.addEventListener( 'mouseenter', this._mouseEnter.bind( this ), false );\n      this.canvas.addEventListener( 'mousemove', this._mouseMove.bind( this ), false );\n      this.canvas.addEventListener( 'mousedown', this._mouseDown.bind( this ), false );\n      this.canvas.addEventListener( 'mouseup', this._mouseUp.bind( this ), false );\n      this.canvas.addEventListener( 'mouseleave', this._mouseLeave.bind( this ), false );\n    }\n  }\n\n  _keyDown( e ) {\n    if ( e.code ) {\n      this._keysRaw[Keys.codesToKeyCodes[e.code]] = 1;\n    }\n    else {\n      this._keysRaw[e.keyCode] = 1;\n    }\n  }\n\n  _keyUp( e ) {\n    if ( e.code ) {\n      this._keysRaw[Keys.codesToKeyCodes[e.code]] = 0;\n    }\n    else {\n      this._keysRaw[e.keyCode] = 0;\n    }\n  }\n\n  _mouseEnter() {\n    this.mouse.isOffScreen = false;\n    this._currentMouseLeft = false;\n    this._currentMouseRight = false;\n  }\n\n  _mouseMove( e ) {\n    const canvasRect = this.canvas.getBoundingClientRect();\n    this.mouse.position = {\n      x: Math.floor( ( e.clientX - canvasRect.left ) / this.canvasScale ),\n      y: this.screenHeight - Math.floor( ( e.clientY - canvasRect.top ) / this.canvasScale ) - 1,\n    };\n  }\n\n  _mouseDown( e ) {\n    if ( e.button === 0 ) {\n      // left button\n      this._currentMouseLeft = true;\n      this._forceMouseLeftDown = true;\n    }\n    else if ( e.button === 2 ) {\n      // right button\n      this._currentMouseRight = true;\n      this._forceMouseRightDown = true;\n    }\n  }\n\n  _mouseUp( e ) {\n    if ( e.button === 0 ) {\n      // left button\n      this._currentMouseLeft = false;\n    }\n    else if ( e.button === 2 ) {\n      // right button\n      this._currentMouseRight = false;\n    }\n  }\n\n  _mouseLeave() {\n    this.mouse.isOffScreen = true;\n  }\n\n  pollInput() {\n    for ( let i = 0; i < 256; i += 1 ) {\n      this._lastKeys[i] = this._currentKeys[i];\n      this._currentKeys[i] = this._keysRaw[i];\n    }\n\n    this._updateButtons();\n\n    this.mouse.left.pressed = this._forceMouseLeftDown ? true : this._currentMouseLeft;\n    this.mouse.left.down = this._forceMouseLeftDown ? true : this._currentMouseLeft && !this._lastMouseLeft;\n    this.mouse.left.up = !this._currentMouseLeft && this._lastMouseLeft;\n\n    this.mouse.right.pressed = this._forceMouseRightDown ? true : this._currentMouseRight;\n    this.mouse.right.down = this._forceMouseRightDown ? true : this._currentMouseRight && !this._lastMouseRight;\n    this.mouse.right.up = !this._currentMouseRight && this._lastMouseRight;\n\n    this._forceMouseLeftDown = false;\n    this._forceMouseRightDown = false;\n\n    this._lastMouseLeft = this._currentMouseLeft;\n    this._lastMouseRight = this._currentMouseRight;\n  }\n\n  getKeyPressed( keyCode ) {\n    if ( keyCode < 0 || keyCode >= 256 ) {\n      return false;\n    }\n\n    return this._currentKeys[keyCode] > 0;\n  }\n\n  getKeyDown( keyCode ) {\n    if ( keyCode < 0 || keyCode >= 256 ) {\n      return false;\n    }\n\n    const current = this._currentKeys[keyCode] > 0;\n    const last = this._lastKeys[keyCode] > 0;\n    return current && !last;\n  }\n\n  getKeyUp( keyCode ) {\n    if ( keyCode < 0 || keyCode >= 256 ) {\n      return false;\n    }\n\n    const current = this._currentKeys[keyCode] > 0;\n    const last = this._lastKeys[keyCode] > 0;\n    return !current && last;\n  }\n\n  getButtonPressed( buttonCode ) {\n    return this.getKeyPressed( this._buttonsToKeys[buttonCode] );\n  }\n\n  getButtonDown( buttonCode ) {\n    return this.getKeyDown( this._buttonsToKeys[buttonCode] );\n  }\n\n  getButtonUp( buttonCode ) {\n    return this.getKeyUp( this._buttonsToKeys[buttonCode] );\n  }\n\n  _updateButtons() {\n    this._updateButton( 'left', GAME_LEFT );\n    this._updateButton( 'right', GAME_RIGHT );\n    this._updateButton( 'up', GAME_UP );\n    this._updateButton( 'down', GAME_DOWN );\n\n    this._updateButton( 'action1', GAME_ACTION_ONE );\n    this._updateButton( 'action2', GAME_ACTION_TWO );\n    this._updateButton( 'action3', GAME_ACTION_THREE );\n    this._updateButton( 'action4', GAME_ACTION_FOUR );\n    this._updateButton( 'leftTrigger', GAME_LEFT_TRIGGER );\n    this._updateButton( 'rightTrigger', GAME_RIGHT_TRIGGER );\n\n    this._updateButton( 'pause', GAME_PAUSE );\n\n    this._updateButton( 'menuLeft', MENU_LEFT );\n    this._updateButton( 'menuRight', MENU_RIGHT );\n    this._updateButton( 'menuUp', MENU_UP );\n    this._updateButton( 'menuDown', MENU_DOWN );\n\n    this._updateButton( 'menuConfirm', MENU_CONFIRM );\n    this._updateButton( 'menuBack', MENU_BACK );\n  }\n\n  _updateButton( name, index ) {\n    const key = this._buttonsToKeys[index];\n    const pressed = this.getKeyPressed( key );\n    const down = this.getKeyDown( key );\n    const up = this.getKeyUp( key );\n\n    this[name] = { pressed, down, up };\n  }\n}\n\nexport default Input;\n","\nclass TileData {\n  constructor() {\n    this.tileSize = 16;\n    this.tilesets = [];\n    this.data = null;\n  }\n\n  init() {\n    let numberOfTiles = 0;\n    for ( let i = 0; i < this.tilesets.length; i += 1 ) {\n      const currentTileset = this.tilesets[i];\n      numberOfTiles += currentTileset.width * currentTileset.height;\n    }\n    this.data = new Uint8ClampedArray( numberOfTiles * this.tileSize * this.tileSize );\n\n    let currentGID = 0;\n    for ( let i = 0; i < this.tilesets.length; i += 1 ) {\n      const currentTileset = this.tilesets[i];\n      const { data } = currentTileset;\n      if ( currentTileset.format === 'array' ) {\n        for ( let j = 0; j < data.length; j += 1 ) {\n          this.data[currentGID + j] = parseInt( data[j], 10 );\n        }\n      }\n      else if ( currentTileset.format === 'run' ) {\n        let runPosition = 0;\n        let dataPosition = 0;\n        while ( runPosition < data.length ) {\n          const runLength = data[runPosition];\n          const paletteId = parseInt( data[runPosition + 1], 10 );\n          for ( let j = 0; j < runLength; j += 1 ) {\n            this.data[currentGID + dataPosition] = paletteId;\n            dataPosition += 1;\n          }\n          runPosition += 2;\n        }\n      }\n      currentGID += currentTileset.width * currentTileset.height;\n    }\n  }\n\n  addTileset( tileset ) {\n    this.tilesets.push( tileset );\n  }\n}\n\nexport default TileData;\n","import Screen from '../Screen/Screen';\nimport Input from '../Input/Input';\nimport TileData from '../TileData/TileData';\n\nclass Engine {\n  constructor() {\n    this.containerId = 'minnow-container';\n    this.onInit = null;\n    this.onUpdate = null;\n    this.screen = new Screen();\n    this.input = new Input();\n    this.tileData = new TileData();\n\n    this._update = this._update.bind( this );\n  }\n\n  begin() {\n    if ( this.onInit ) {\n      this.onInit();\n    }\n\n    this.screen.init();\n    this.screen.onScaleChange = ( scale ) => {\n      this.input.canvasScale = scale;\n    };\n\n    this.input.canvas = this.screen.canvas;\n    this.input.canvasScale = this.screen.scale;\n    this.input.screenWidth = this.screen.width;\n    this.input.screenHeight = this.screen.height;\n    this.input.init();\n    this.tileData.init();\n    this.screen.tileData = this.tileData;\n    requestAnimationFrame( this._update );\n  }\n\n  _update() {\n    this.input.pollInput();\n\n    if ( this.onUpdate ) {\n      this.onUpdate();\n    }\n\n    this.screen.drawScreen();\n    requestAnimationFrame( this._update );\n  }\n}\n\nexport default Engine;\n","import { Engine } from '../../src/index';\nimport { SCALE_FIT_WINDOW } from '../../src/Screen/Screen';\nimport tileset from '../data/test.tileset.json';\n// import { GAME_RIGHT } from '../../src/Input/Input';\n\nimport './style.css';\n\nconst position = {\n  x: 0,\n  y: 0,\n};\n\nconst engine = new Engine();\n\nlet count = 10;\nlet increment = 1;\n\nengine.onInit = () => {\n  engine.screen.hideCursor = true;\n  engine.screen.scale = 4;\n  engine.screen.scaleMode = SCALE_FIT_WINDOW;\n  engine.tileData.addTileset( tileset );\n};\n\nengine.onUpdate = () => {\n  if ( engine.input.left.pressed ) {\n    position.x -= 1;\n  }\n  if ( engine.input.right.pressed ) {\n    position.x += 1;\n  }\n  if ( engine.input.up.pressed ) {\n    position.y += 1;\n  }\n  if ( engine.input.down.pressed ) {\n    position.y -= 1;\n  }\n\n  if ( count >= 100 ) {\n    increment = -1;\n  }\n  else if ( count <= 1 ) {\n    increment = 1;\n  }\n\n  count += increment;\n\n  engine.screen.clear( 1 );\n  engine.screen.drawLine( position.x, position.y, 100, 100, 4 );\n  const color = engine.input.mouse.left.pressed ? 3 : 4;\n  if ( !engine.input.mouse.isOffScreen ) {\n    engine.screen.setPixel( engine.input.mouse.position.x, engine.input.mouse.position.y, color );\n  }\n  for ( let x = 0; x < 20; x += 1 ) {\n    for ( let y = 0; y < 20; y += 1 ) {\n      engine.screen.drawTile( ( x % 16 ) + 1, position.x + x * 16, position.y + y * 16 );\n      // engine.screen.drawTile( 14, position.x + x * 16, position.y + y * 16 );\n      // engine.screen.drawTile( 13, position.x + x * 16, position.y + y * 16 );\n      // engine.screen.drawTile( 12, position.x + x * 16, position.y + y * 16 );\n    }\n  }\n};\n\nengine.begin();\n"],"sourceRoot":""}