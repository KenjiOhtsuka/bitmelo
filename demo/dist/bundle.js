!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=5)}([function(t,n,e){var r=e(1);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(3)(r,i);r.locals&&(t.exports=r.locals)},function(t,n,e){(t.exports=e(2)(!1)).push([t.i,"\n#main-container {\n  display: flex;\n  justify-content: center;\n}\n",""])},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),u=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[e].concat(u).concat([i]).join("\n")}var o;return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var u=this[i][0];null!=u&&(r[u]=!0)}for(i=0;i<t.length;i++){var o=t[i];null!=o[0]&&r[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),n.push(o))}},n}},function(t,n,e){var r,i,u={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var n={};return function(t,e){if("function"==typeof t)return t();if(void 0===n[t]){var r=function(t,n){return n?n.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}n[t]=r}return n[t]}}(),a=null,c=0,d=[],f=e(4);function h(t,n){for(var e=0;e<t.length;e++){var r=t[e],i=u[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(b(r.parts[o],n))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(b(r.parts[o],n));u[r.id]={id:r.id,refs:1,parts:s}}}}function l(t,n){for(var e=[],r={},i=0;i<t.length;i++){var u=t[i],o=n.base?u[0]+n.base:u[0],s={css:u[1],media:u[2],sourceMap:u[3]};r[o]?r[o].parts.push(s):e.push(r[o]={id:o,parts:[s]})}return e}function p(t,n){var e=s(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===t.insertAt)r?r.nextSibling?e.insertBefore(n,r.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),d.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,e);e.insertBefore(n,i)}}function _(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=d.indexOf(t);n>=0&&d.splice(n,1)}function y(t){var n=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return e.nc}();r&&(t.attrs.nonce=r)}return E(n,t.attrs),p(t,n),n}function E(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function b(t,n){var e,r,i,u;if(n.transform&&t.css){if(!(u="function"==typeof n.transform?n.transform(t.css):n.transform.default(t.css)))return function(){};t.css=u}if(n.singleton){var o=c++;e=a||(a=y(n)),r=w.bind(null,e,o,!1),i=w.bind(null,e,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",E(n,t.attrs),p(t,n),n}(n),r=function(t,n,e){var r=e.css,i=e.sourceMap,u=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||u)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,e,n),i=function(){_(e),e.href&&URL.revokeObjectURL(e.href)}):(e=y(n),r=function(t,n){var e=n.css,r=n.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),i=function(){_(e)});return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else i()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=o()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=l(t,n);return h(e,n),function(t){for(var r=[],i=0;i<e.length;i++){var o=e[i];(s=u[o.id]).refs--,r.push(s)}t&&h(l(t,n),n);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete u[s.id]}}}};var v,g=(v=[],function(t,n){return v[t]=n,v.filter(Boolean).join("\n")});function w(t,n,e,r){var i=e?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(n,i);else{var u=document.createTextNode(i),o=t.childNodes;o[n]&&t.removeChild(o[n]),o.length?t.insertBefore(u,o[n]):t.appendChild(u)}}},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,r=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var i,u=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?t:(i=0===u.indexOf("//")?u:0===u.indexOf("/")?e+u:r+u.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"BACKSPACE",function(){return i}),e.d(r,"TAB",function(){return u}),e.d(r,"ENTER",function(){return o}),e.d(r,"SHIFT",function(){return s}),e.d(r,"CTRL",function(){return a}),e.d(r,"ALT",function(){return c}),e.d(r,"PAUSE_BREAK",function(){return d}),e.d(r,"CAPSLOCK",function(){return f}),e.d(r,"ESCAPE",function(){return h}),e.d(r,"SPACE",function(){return l}),e.d(r,"PAGE_UP",function(){return p}),e.d(r,"PAGE_DOWN",function(){return _}),e.d(r,"END",function(){return y}),e.d(r,"HOME",function(){return E}),e.d(r,"LEFT_ARROW",function(){return b}),e.d(r,"UP_ARROW",function(){return v}),e.d(r,"RIGHT_ARROW",function(){return g}),e.d(r,"DOWN_ARROW",function(){return w}),e.d(r,"INSERT",function(){return m}),e.d(r,"DELETE",function(){return A}),e.d(r,"ZERO",function(){return T}),e.d(r,"ONE",function(){return U}),e.d(r,"TWO",function(){return K}),e.d(r,"THREE",function(){return O}),e.d(r,"FOUR",function(){return R}),e.d(r,"FIVE",function(){return C}),e.d(r,"SIX",function(){return L}),e.d(r,"SEVEN",function(){return N}),e.d(r,"EIGHT",function(){return I}),e.d(r,"NINE",function(){return M}),e.d(r,"A_KEY",function(){return x}),e.d(r,"B_KEY",function(){return S}),e.d(r,"C_KEY",function(){return B}),e.d(r,"D_KEY",function(){return P}),e.d(r,"E_KEY",function(){return D}),e.d(r,"F_KEY",function(){return F}),e.d(r,"G_KEY",function(){return G}),e.d(r,"H_KEY",function(){return Y}),e.d(r,"I_KEY",function(){return j}),e.d(r,"J_KEY",function(){return H}),e.d(r,"K_KEY",function(){return k}),e.d(r,"L_KEY",function(){return W}),e.d(r,"M_KEY",function(){return V}),e.d(r,"N_KEY",function(){return $}),e.d(r,"O_KEY",function(){return q}),e.d(r,"P_KEY",function(){return J}),e.d(r,"Q_KEY",function(){return Q}),e.d(r,"R_KEY",function(){return X}),e.d(r,"S_KEY",function(){return Z}),e.d(r,"T_KEY",function(){return z}),e.d(r,"U_KEY",function(){return tt}),e.d(r,"V_KEY",function(){return nt}),e.d(r,"W_KEY",function(){return et}),e.d(r,"X_KEY",function(){return rt}),e.d(r,"Y_KEY",function(){return it}),e.d(r,"Z_KEY",function(){return ut}),e.d(r,"LEFT_WINDOW",function(){return ot}),e.d(r,"RIGHT_WINDOW",function(){return st}),e.d(r,"SELECT",function(){return at}),e.d(r,"NUM_ZERO",function(){return ct}),e.d(r,"NUM_ONE",function(){return dt}),e.d(r,"NUM_TWO",function(){return ft}),e.d(r,"NUM_THREE",function(){return ht}),e.d(r,"NUM_FOUR",function(){return lt}),e.d(r,"NUM_FIVE",function(){return pt}),e.d(r,"NUM_SIX",function(){return _t}),e.d(r,"NUM_SEVEN",function(){return yt}),e.d(r,"NUM_EIGHT",function(){return Et}),e.d(r,"NUM_NINE",function(){return bt}),e.d(r,"MULTIPLY",function(){return vt}),e.d(r,"ADD",function(){return gt}),e.d(r,"SUBTRACT",function(){return wt}),e.d(r,"DECIMAL_POINT",function(){return mt}),e.d(r,"DIVIDE",function(){return At}),e.d(r,"F1",function(){return Tt}),e.d(r,"F2",function(){return Ut}),e.d(r,"F3",function(){return Kt}),e.d(r,"F4",function(){return Ot}),e.d(r,"F5",function(){return Rt}),e.d(r,"F6",function(){return Ct}),e.d(r,"F7",function(){return Lt}),e.d(r,"F8",function(){return Nt}),e.d(r,"F9",function(){return It}),e.d(r,"F10",function(){return Mt}),e.d(r,"F11",function(){return xt}),e.d(r,"F12",function(){return St}),e.d(r,"NUM_LOCK",function(){return Bt}),e.d(r,"SCROLL_LOCK",function(){return Pt}),e.d(r,"SEMI_COLON",function(){return Dt}),e.d(r,"EQUAL_SIGN",function(){return Ft}),e.d(r,"COMMA",function(){return Gt}),e.d(r,"DASH",function(){return Yt}),e.d(r,"PERIOD",function(){return jt}),e.d(r,"FORWARD_SLASH",function(){return Ht}),e.d(r,"GRAVE_ACCENT",function(){return kt}),e.d(r,"OPEN_BRACKET",function(){return Wt}),e.d(r,"BACK_SLASH",function(){return Vt}),e.d(r,"CLOSE_BRACKET",function(){return $t}),e.d(r,"SINGLE_QUOTE",function(){return qt}),e.d(r,"GAME_LEFT",function(){return Jt}),e.d(r,"GAME_RIGHT",function(){return Qt}),e.d(r,"GAME_UP",function(){return Xt}),e.d(r,"GAME_DOWN",function(){return Zt}),e.d(r,"GAME_ACTION_ONE",function(){return zt}),e.d(r,"GAME_ACTION_TWO",function(){return tn}),e.d(r,"GAME_ACTION_THREE",function(){return nn}),e.d(r,"GAME_ACTION_FOUR",function(){return en}),e.d(r,"GAME_PAUSE",function(){return rn}),e.d(r,"GAME_LEFT_TRIGGER",function(){return un}),e.d(r,"GAME_RIGHT_TRIGGER",function(){return on}),e.d(r,"MENU_LEFT",function(){return sn}),e.d(r,"MENU_RIGHT",function(){return an}),e.d(r,"MENU_UP",function(){return cn}),e.d(r,"MENU_DOWN",function(){return dn}),e.d(r,"MENU_CONFIRM",function(){return fn}),e.d(r,"MENU_BACK",function(){return hn});const i=8,u=9,o=13,s=16,a=17,c=18,d=19,f=20,h=27,l=32,p=33,_=34,y=35,E=36,b=37,v=38,g=39,w=40,m=45,A=46,T=48,U=49,K=50,O=51,R=52,C=53,L=54,N=55,I=56,M=57,x=65,S=66,B=67,P=68,D=69,F=70,G=71,Y=72,j=73,H=74,k=75,W=76,V=77,$=78,q=79,J=80,Q=81,X=82,Z=83,z=84,tt=85,nt=86,et=87,rt=88,it=89,ut=90,ot=91,st=92,at=93,ct=96,dt=97,ft=98,ht=99,lt=100,pt=101,_t=102,yt=103,Et=104,bt=105,vt=106,gt=107,wt=109,mt=110,At=111,Tt=112,Ut=113,Kt=114,Ot=115,Rt=116,Ct=117,Lt=118,Nt=119,It=120,Mt=121,xt=122,St=123,Bt=144,Pt=145,Dt=186,Ft=187,Gt=188,Yt=189,jt=190,Ht=191,kt=192,Wt=219,Vt=220,$t=221,qt=222,Jt=0,Qt=1,Xt=2,Zt=3,zt=4,tn=5,nn=6,en=7,rn=8,un=9,on=10,sn=11,an=12,cn=13,dn=14,fn=15,hn=16;var ln=class{constructor(){this.width=320,this.height=180,this.scale=3,this.transparentPaletteIndex=0,this._canvas=null,this._context=null,this._screenData=null,this._palette=null,this._generatedPalette=null,this._isLittleEndian=!0}init(){const t=document.createElement("div");t.id="main-container",this._canvas=document.createElement("canvas"),this._canvas.setAttribute("id","game-device"),this._canvas.setAttribute("width",this.width),this._canvas.setAttribute("height",this.height);let n=`width: ${this.width*this.scale}px;`;n+=`height: ${this.height*this.scale}px;`,n+="image-rendering: -webkit-optimize-contrast;",n+="image-rendering: crisp-edges;",n+="image-rendering: pixelated;",this._canvas.setAttribute("style",n),t.appendChild(this._canvas),document.body.appendChild(t),this._context=this._canvas.getContext("2d"),this._screenData=new Uint8ClampedArray(this.width*this.height);const e=new ArrayBuffer(4),r=new Uint8ClampedArray(e);new Uint32Array(e)[0]=168496141,10===r[0]&&11===r[1]&&12===r[2]&&13===r[3]&&(this._isLittleEndian=!1),this._palette||(this._palette=[[0,0,0],[0,0,0],[255,255,255],[255,0,0],[0,255,0],[0,0,255]]),this._buildPalette()}setPalette(t){this._palette=t,this._buildPalette()}setPaletteColorAtIndex(t,n){this._palette[n]=t,this._buildPalette()}_buildPalette(){this._generatedPalette=new Uint32Array(this._palette.length);let t=null;if(this._isLittleEndian)for(let n=0;n<this._palette.length;n+=1)t=this._palette[n],this._generatedPalette[n]=255<<24|t[2]<<16|t[1]<<8|t[0];else for(let n=0;n<this._palette.length;n+=1)t=this._palette[n],this._generatedPalette[n]=t[0]<<24|t[1]<<16|t[2]<<8|255}setPixel(t,n,e){t<0||t>=this.width||n<0||n>=this.height||(this._screenData[n*this.width+t]=e)}setPixelUnsafe(t,n,e){this._screenData[n*this.width+t]=e}getPixel(t,n){return this._screenData[n*this.width+t]}clear(t){t?this._screenData.fill(t):this._screenData.fill(0)}drawLine(t,n,e,r,i){t!==e||n!==r?Math.abs(r-n)<Math.abs(e-t)?t>e?this._drawLineLow(e,r,t,n,i):this._drawLineLow(t,n,e,r,i):n>r?this._drawLineHigh(e,r,t,n,i):this._drawLineHigh(t,n,e,r,i):this.setPixel(t,e,i)}_drawLineLow(t,n,e,r,i){const u=e-t;let o=r-n,s=1;o<0&&(s=-1,o=-o);let a=2*o-u,c=n;for(let n=t;n<=e;n+=1)this.setPixel(n,c,i),a>0&&(c+=s,a-=2*u),a+=2*o}_drawLineHigh(t,n,e,r,i){let u=e-t;const o=r-n;let s=1;u<0&&(s=-1,u=-u);let a=2*u-o,c=t;for(let t=n;t<=r;t+=1)this.setPixel(c,t,i),a>0&&(c+=s,a-=2*o),a+=2*u}drawScreen(){const t=this._context.getImageData(0,0,this.width,this.height),n=new ArrayBuffer(t.data.length),e=new Uint8ClampedArray(n),r=new Uint32Array(n);let i=0,u=0;for(let t=0;t<this.height;t+=1)for(let n=0;n<this.width;n+=1)u=this.height-t-1,i=this._screenData[u*this.width+n],r[t*this.width+n]=this._generatedPalette[i];t.data.set(e),this._context.putImageData(t,0,0)}};var pn=class{constructor(){this._keysRaw=new Uint8ClampedArray(256),this._currentKeys=new Uint8ClampedArray(256),this._lastKeys=new Uint8ClampedArray(256),this._buttonsToKeys=new Uint8ClampedArray(32),this._buttonsToKeys[Jt]=b,this._buttonsToKeys[Qt]=g,this._buttonsToKeys[Xt]=v,this._buttonsToKeys[Zt]=w,this._buttonsToKeys[zt]=ut,this._buttonsToKeys[tn]=rt,this._buttonsToKeys[nn]=x,this._buttonsToKeys[en]=Z,this._buttonsToKeys[un]=Q,this._buttonsToKeys[on]=et,this._buttonsToKeys[rn]=J,this._buttonsToKeys[sn]=b,this._buttonsToKeys[an]=g,this._buttonsToKeys[cn]=v,this._buttonsToKeys[dn]=w,this._buttonsToKeys[fn]=rt,this._buttonsToKeys[hn]=ut,this._currentButtons=new Uint8ClampedArray(32),this._lastButtons=new Uint8ClampedArray(32),window.addEventListener("keydown",this.keyDown.bind(this),!1),window.addEventListener("keyup",this.keyUp.bind(this),!1)}keyDown(t){this._keysRaw[t.keyCode]=1}keyUp(t){this._keysRaw[t.keyCode]=0}pollInput(){for(let t=0;t<256;t+=1)this._lastKeys[t]=this._currentKeys[t],this._currentKeys[t]=this._keysRaw[t];this._updateButtons()}getKeyPressed(t){return!(t<0||t>=256)&&this._currentKeys[t]>0}getKeyDown(t){if(t<0||t>=256)return!1;const n=this._currentKeys[t]>0,e=this._lastKeys[t]>0;return n&&!e}getKeyUp(t){if(t<0||t>=256)return!1;const n=this._currentKeys[t]>0,e=this._lastKeys[t]>0;return!n&&e}_updateButtons(){this._updateButton("left",Jt),this._updateButton("right",Qt),this._updateButton("up",Xt),this._updateButton("down",Zt),this._updateButton("action1",zt),this._updateButton("action2",tn),this._updateButton("action3",nn),this._updateButton("action4",en),this._updateButton("leftTrigger",un),this._updateButton("rightTrigger",on),this._updateButton("pause",rn),this._updateButton("menuLeft",sn),this._updateButton("menuRight",an),this._updateButton("menuUp",cn),this._updateButton("menuDown",dn),this._updateButton("menuConfirm",fn),this._updateButton("menuBack",hn)}_updateButton(t,n){const e=this._buttonsToKeys[n],r=this.getKeyPressed(e),i=this.getKeyDown(e),u=this.getKeyUp(e);this[t]={pressed:r,down:i,up:u}}};var _n=class{constructor(){this.onInit=null,this.onUpdate=null,this.screen=new ln,this.input=new pn,this._update=this._update.bind(this)}begin(){this.onInit&&this.onInit(),this.screen.init(),requestAnimationFrame(this._update)}_update(){this.input.pollInput(),this.onUpdate&&this.onUpdate(),this.screen.drawScreen(),requestAnimationFrame(this._update)}};e(0);const yn={x:0,y:0},En=new _n;En.onUpdate=(()=>{En.input.left.pressed&&(yn.x-=1),En.input.right.pressed&&(yn.x+=1),En.input.up.pressed&&(yn.y+=1),En.input.down.pressed&&(yn.y-=1),En.screen.clear(1),En.screen.setPixel(yn.x,yn.y,2)}),En.begin()}]);
//# sourceMappingURL=bundle.js.map