!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.minnow=e():t.minnow=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n=class{constructor(){this.width=320,this.height=180,this.scale=3,this.palette=[[0,0,0],[255,255,255],[255,0,0],[0,255,0],[0,0,255]],this.canvas=null,this.context=null,this._screenData=null,this._generatedPalette=null,this._isLittleEndian=!0}create(){const t=document.createElement("div");t.id="main-container",this.canvas=document.createElement("canvas"),this.canvas.setAttribute("id","game-device"),this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height);let e=`width: ${this.width*this.scale}px;`;e+=`height: ${this.height*this.scale}px;`,e+="image-rendering: -webkit-optimize-contrast;",e+="image-rendering: crisp-edges;",e+="image-rendering: pixelated;",this.canvas.setAttribute("style",e),t.appendChild(this.canvas),document.body.appendChild(t),this.context=this.canvas.getContext("2d"),this._screenData=new Uint8ClampedArray(this.width*this.height);const i=new ArrayBuffer(4),n=new Uint8ClampedArray(i);new Uint32Array(i)[0]=168496141,10===n[0]&&11===n[1]&&12===n[2]&&13===n[3]&&(this._isLittleEndian=!1),this._buildPalette()}_buildPalette(){this._generatedPalette=new Uint32Array(this.palette.length+1);let t=null;if(this._generatedPalette[0]=0,this._isLittleEndian)for(let e=0;e<this.palette.length;e+=1)t=this.palette[e],this._generatedPalette[e+1]=255<<24|t[2]<<16|t[1]<<8|t[0];else for(let e=0;e<this.palette.length;e+=1)t=this.palette[e],this._generatedPalette[e+1]=t[0]<<24|t[1]<<16|t[2]<<8|255}setPixel(t,e,i){t<0||t>=this.width||e<0||e>=this.height||(this._screenData[e*this.width+t]=i)}setPixelUnsafe(t,e,i){this._screenData[e*this.width+t]=i}getPixel(t,e){return this._screenData[e*this.width+t]}clearScreen(t){this._screenData.fill(t)}_drawScreen(){const t=this.context.getImageData(0,0,this.width,this.height),e=new ArrayBuffer(t.data.length),i=new Uint8ClampedArray(e),n=new Uint32Array(e);let r=0,s=0;for(let t=0;t<this.height;t+=1)for(let e=0;e<this.width;e+=1)s=this.height-t-1,r=this._screenData[s*this.width+e],n[t*this.width+e]=this._generatedPalette[r];t.data.set(i),this.context.putImageData(t,0,0)}};var r=class{constructor(){this.screen=null}create(){this.screen=new n,this.screen.create()}};i.d(e,"default",function(){return r}),i.d(e,"Engine",function(){return r}),i.d(e,"Screen",function(){return n})}])});